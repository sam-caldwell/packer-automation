# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
- version-2.0.1-develop

pool:
  vmImage: 'ubuntu-latest'

steps:
- script: |
    echo 'setup the environment.'
    echo 'update apt....'
    sudo apt-get update -y --fix-missing
    echo 'install packer...'
    sudo apt-get install --no-install-recommends -y wget unzip
    wget https://releases.hashicorp.com/packer/1.5.1/packer_1.5.1_linux_amd64.zip --output-document=packer.zip
    unzip packer.zip
    sudo mv packer /usr/bin/
    echo 'wget installed.'

  displayName: 'setup the environment.'
- script: |
    echo 'lint the project'
    make lint



